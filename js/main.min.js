function Subscribe(){this.successMessage="Thanks for subscribing!",this.missingEmailAddressMessage="Your email address is required.",this.invalidEmailAddressMessage="Your email address looks incorrect, please try again.",this.botSubmissionErrorMessage="This doesn't look like a human submission.",this.invalidParametersErrorMessage="This form has missing or invalid fields.",this.unknownErrorMessage="Sorry, an unknown error has occurred. Please try again later."}function NavBar(e,t){this.isOpen=!1,this.navContainer=document.getElementById("nav-container"),this.toggleNavigationBtn=document.getElementById("toggle-navigation"),this.header=document.getElementById("header"),this.lastScrollTop=0,this.navbarHeight=e,this.delta=t}var didScroll;Subscribe.prototype.isBotPost=function(e){return document.querySelectorAll(".email-octopus-form-row-hp input")[0].value},Subscribe.prototype.basicValidateEmail=function(e){return/\S+@\S+\.\S+/.test(e)},Subscribe.prototype.fetchSuccess=function(e,t){document.getElementById("success-message").innerHTML=t.successMessage,e.style.display="none"},Subscribe.prototype.fetchError=function(e,t,s){var n=document.getElementById("error-message");if(t&&t.error&&t.error.code)switch(t.error.code){case"INVALID_PARAMETERS":return void(n.innerHTML=s.invalidParametersErrorMessage);case"BOT_SUBMISSION":return void(n.innerHTML=s.botSubmissionErrorMessage)}n.innerHTML(this.unknownErrorMessage),document.getElementById("submit-button").removeAttribute("disabled")},Subscribe.prototype.formSubmit=function(e,t){document.getElementById("submit-button").setAttribute("disabled",!0),fetch("https://emailoctopus.com/lists/ab019fbc-f4b0-11e7-a98f-06b2d989fe84/members/external-add",{method:"POST",body:new FormData(e)}).then(function(s){200===s.status?t.fetchSuccess(e,t):t.fetchError(e,error,t)})},NavBar.prototype.closeNav=function(){this.navContainer.classList.replace("open","closed"),this.toggleNavigationBtn.classList.replace("open","closed"),this.toggleNavigationBtn.setAttribute("aria-expanded","false"),this.isOpen=!1},NavBar.prototype.openNav=function(){this.navContainer.classList.replace("closed","open"),this.toggleNavigationBtn.classList.replace("closed","open"),this.toggleNavigationBtn.setAttribute("aria-expanded","true"),this.isOpen=!0},NavBar.prototype.handleScroll=function(){var e=window.scrollY;Math.abs(this.lastScrollTop-e)<=delta||(e>this.lastScrollTop&&e>navbarHeight?(this.header.classList.replace("nav-down","nav-up"),this.closeNav()):e+window.innerHeight<document.body.clientHeight&&this.header.classList.replace("nav-up","nav-down"),this.lastScrollTop=e)};var delta=5,navbarHeight=98;window.onscroll=function(e){didScroll=!0},document.addEventListener("DOMContentLoaded",function(){var e=new NavBar(navbarHeight,delta);document.getElementById("toggle-navigation").onclick=function(){!0===e.isOpen?e.closeNav():e.openNav()},setInterval(function(){didScroll&&(e.handleScroll(),didScroll=!1)},250);var t=document.getElementById("subscribe-form"),s=document.getElementById("email"),n=document.getElementById("error-message"),i=new Subscribe;t.onsubmit=function(e){return e.preventDefault(),n.innerHTML="",i.isBotPost(t)?n.innerHTML=i.botSubmissionErrorMessage:0===s.value.trim().length?n.innerHTML=i.missingEmailAddressMessage:i.basicValidateEmail(s.value)?i.formSubmit(t,i):n.innerHTML=i.invalidEmailAddressMessage,!1}});